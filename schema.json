{
  "title": "A JSON schema for a standard RAML object",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "required": [
    "title"
  ],
  "properties": {
    "title": {
      "type": "string"
    },
    "version": {
      "type": "string"
    },
    "baseUri": {
      "type": "string",
      "format": "uri"
    },
    "baseUriParameters": {
      "$ref": "#/definitions/namedParameters"
    },
    "mediaType": {
      "$ref": "#/definitions/mediaType"
    },
    "protocols": {
      "$ref": "#/definitions/protocols"
    },
    "securitySchemes": {
      "$ref": "#/definitions/securitySchemes"
    },
    "securedBy": {
      "$ref": "#/definitions/securedBy"
    },
    "documentation": {
      "$ref": "#/definitions/documentation"
    },
    "resources": {
      "$ref": "#/definitions/rootResource"
    },
    "traits": {
      "$ref": "#/definitions/traits"
    },
    "resourceTypes": {
      "$ref": "#/definitions/resourceTypes"
    }
  },
  "definitions": {
    "namedParameters": {
      "patternProperties": {
        "^[\\w-]+$": {
          "oneOf": [
            {
              "$ref": "#/definitions/namedParameter"
            },
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/namedParameter"
              }
            }
          ]
        }
      }
    },
    "namedParameter": {
      "type": ["null", "object"],
      "properties": {
        "displayName": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "string",
            "number",
            "integer",
            "date",
            "boolean",
            "file"
          ],
          "default": "string"
        },
        "enum": {
          "$ref": "#/definitions/enum"
        },
        "pattern": {
          "type": "string",
          "format": "regex"
        },
        "minLength": {
          "$ref": "#/definitions/minIntegerDefault0"
        },
        "maxLength": {
          "$ref": "#/definitions/minInteger"
        },
        "minimum": {
          "type": "number"
        },
        "maximum": {
          "type": "number"
        },
        "example": {
          "$ref": "#/definitions/primitiveType"
        },
        "repeat": {
          "$ref": "#/definitions/booleanDefaultFalse"
        },
        "required": {
          "$ref": "#/definitions/booleanDefaultFalse"
        },
        "default": {
          "$ref": "#/definitions/primitiveType"
        }
      },
      "additionalProperties": false
    },
    "mediaType": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9!#$%^&\\*_\\-\\+{}\\|'.`~]+/[a-zA-Z0-9!#$%^&\\*_\\-\\+{}\\|'.`~]+$"
    },
    "protocols": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "enum": ["HTTP", "HTTPS"]
      },
      "uniqueItems": true
    },
    "securitySchemes": {
      "type": "object",
      "patternProperties": {
        "^[\\w-]+$": {
          "$ref": "#/definitions/securityScheme"
        }
      },
      "additionalProperties": false
    },
    "securityScheme": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "describedBy": {
          "$ref": "#/definitions/describedBy"
        },
        "settings": {
          "type": "object"
        }
      },
      "oneOf": [
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "enum": ["OAuth 1.0"]
            },
            "settings": {
              "type": "object",
              "required": [
                "requestTokenUri",
                "authorizationUri",
                "tokenCredentialsUri"
              ],
              "properties": {
                "requestTokenUri": {
                  "type": "string",
                  "format": "uri"
                },
                "authorizationUri": {
                  "type": "string",
                  "format": "uri"
                },
                "tokenCredentialsUri": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "enum": ["OAuth 2.0"]
            },
            "settings": {
              "type": "object",
              "required": [
                "authorizationUri",
                "accessTokenUri",
                "authorizationGrants"
              ],
              "properties": {
                "authorizationUri": {
                  "type": "string",
                  "format": "uri"
                },
                "accessTokenUri": {
                  "type": "string",
                  "format": "uri"
                },
                "authorizationGrants": {
                  "type": "array",
                  "items": {
                    "enum": ["code", "token", "owner", "credentials"]
                  }
                },
                "scopes": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "oneOf": [
                {
                  "enum": [
                    "Anonymous",
                    "Basic Authentication",
                    "Digest Authentication"
                  ]
                },
                {
                  "type": "string",
                  "pattern": "^x-"
                }
              ]
            }
          }
        }
      ],
      "additionalProperties": false
    },
    "traits": {
      "type": "object",
      "patternProperties": {
        "^[\\w-]+$": {
          "$ref": "#/definitions/trait"
        }
      },
      "additionalProperties": false
    },
    "describedBy": {
      "type": "object",
      "properties": {
        "queryParameters": {
          "$ref": "#/definitions/namedParameters"
        },
        "headers": {
          "$ref": "#/definitions/namedParameters"
        },
        "responses": {
          "$ref": "#/definitions/responses"
        },
        "body": {
          "$ref": "#/definitions/body"
        }
      }
    },
    "trait": {
      "$ref": "#/definitions/describedBy",
      "properties": {
        "securedBy": {
          "$ref": "#/definitions/securedBy"
        }
      }
    },
    "resourceTypes": {
      "type": "object",
      "patternProperties": {
        "^[\\w-]+$": {
          "$ref": "#/definitions/resourceType"
        }
      }
    },
    "resourceType": {
      "type": "object",
      "properties": {
        "is": {
          "$ref": "#/definitions/is"
        },
        "type": {
          "$ref": "#/definitions/reference"
        }
      },
      "patternProperties": {
        "^(head|get|post|put|patch|delete|options|trace|connect)\\??$": {
          "$ref": "#/definitions/method"
        }
      },
      "additionalProperties": false
    },
    "body": {
      "anyOf": [
        {
          "$ref": "#/definitions/bodies"
        },
        {
          "$ref": "#/definitions/responseBodies",
          "properties": {
            "schema": {
              "type": "string"
            },
            "formParameters": {
              "$ref": "#/definitions/namedParameters"
            }
          },
          "additionalProperties": false
        }
      ]
    },
    "bodies": {
      "$ref": "#/definitions/responseBodies",
      "properties": {
        "application/x-www-form-urlencoded": {
          "$ref": "#/definitions/formBody"
        },
        "multipart/form-data": {
          "$ref": "#/definitions/formBody"
        },
        "application/json": {
          "$ref": "#/definitions/schemaBody"
        },
        "text/xml": {
          "$ref": "#/definitions/schemaBody"
        }
      },
      "additionalProperties": false
    },
    "responseBodies": {
      "patternProperties": {
        "^[a-zA-Z0-9!#$%^&\\*_\\-\\+{}\\|'.`~]+/[a-zA-Z0-9!#$%^&\\*_\\-\\+{}\\|'.`~]+$": {
          "$ref": "#/definitions/standardResponseBody"
        }
      }
    },
    "formBody": {
      "$ref": "#/definitions/responseBody",
      "properties": {
        "formParameters": {
          "$ref": "#/definitions/namedParameters"
        }
      },
      "additionalProperties": false
    },
    "schemaBody": {
      "$ref": "#/definitions/responseBody",
      "properties": {
        "schema": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "standardResponseBody": {
      "$ref": "#/definitions/responseBody",
      "additionalProperties": false
    },
    "responseBody": {
      "type": ["null", "object"],
      "properties": {
        "example": {
          "type": "string"
        }
      }
    },
    "responses": {
      "type": "object",
      "patternProperties": {
        "^\\d{3}$": {
          "$ref": "#/definitions/response"
        }
      },
      "additionalProperties": false
    },
    "response": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "headers": {
          "$ref": "#/definitions/namedParameters"
        },
        "body": {
          "$ref": "#/definitions/body"
        }
      },
      "additionalProperties": false
    },
    "securedBy": {
      "$ref": "#/definitions/enum",
      "items": {
        "oneOf": [
          {
            "type": "null"
          },
          {
            "$ref": "#/definitions/reference"
          }
        ]
      }
    },
    "reference": {
      "oneOf": [
        {
          "type": "string",
          "pattern": "^[\\w-]+$"
        },
        {
          "type": "object",
          "minProperties": 1,
          "maxProperties": 1,
          "patternProperties": {
            "^[\\w-]+$": {
              "type": "object"
            }
          }
        }
      ]
    },
    "documentation": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          }
        },
        "additionalProperties": false
      }
    },
    "rootResource": {
      "type": "object",
      "patternProperties": {
        "^\\/": {
          "$ref": "#/definitions/resource"
        }
      },
      "additionalProperties": false
    },
    "resource": {
      "type": "object",
      "properties": {
        "uriParameters": {
          "$ref": "#/definitions/namedParameters"
        },
        "is": {
          "$ref": "#/definitions/is"
        },
        "type": {
          "$ref": "#/definitions/reference"
        }
      },
      "patternProperties": {
        "^head|get|post|put|patch|delete|options|trace|connect$": {
          "$ref": "#/definitions/method"
        },
        "^\\/": {
          "$ref": "#/definitions/resource"
        }
      },
      "additionalProperties": false
    },
    "method": {
      "$ref": "#/definitions/trait",
      "properties": {
        "is": {
          "$ref": "#/definitions/is"
        }
      },
      "additionalProperties": false
    },
    "is": {
      "$ref": "#/definitions/enum",
      "items": {
        "$ref": "#/definitions/reference"
      }
    },
    "enum": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true
    },
    "minInteger": {
      "type": "integer",
      "minimum": 0
    },
    "minIntegerDefault0": {
      "allOf": [
        {
          "$ref": "#/definitions/minInteger"
        },
        {
          "default": 0
        }
      ]
    },
    "booleanDefaultFalse": {
      "type": "boolean",
      "default": false
    },
    "date": {
      "type": "string",
      "pattern": "^(Sun|Mon|Tue|Wed|Thu|Fri|Sat), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} GMT$"
    },
    "primitiveType": {
      "type": ["boolean", "integer", "number", "string"]
    }
  },
  "additionalProperties": false
}
